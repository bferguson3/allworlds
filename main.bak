ss = ''
scale = 3
g = love.graphics
cr = scale*8

function love.load()
  love.window.setMode(256*scale, 192*scale, {})
  love.graphics.setDefaultFilter('nearest', 'nearest', 1)
end

function love.update(dT)

end

function changeTransparent(x, y, r, g, b, a)
  if r == (255/255) and g == (175/255) and b == (255/255) then
    a = 0.0;
  end
  return r, g, b, a
end

function love.draw()
  love.graphics.setColor(255, 255, 255, 1);
  --love.graphics.print(ss, 0, 0, 0, scale)
  --love.graphics.rectangle("fill", 0, 0, 160*scale, 160*scale)
  --love.graphics.draw(love.graphics.newImage('stn.png'), 20*scale, 20*scale, 0, scale*3);
  --g.setColor(0, 0, 0, 1);
  e = (160/8)*scale
  a = love.image.newImageData('assets/fpstnwl.png');
  a:mapPixel(changeTransparent);
  FP_WALL_STONE = g.newImage(a);
  a = love.image.newImageData('assets/fpstnwl2.png');
  a:mapPixel(changeTransparent);
  FP_WALL_STONE2 = g.newImage(a);
  IMM_LEFT_WALL = g.newQuad(0, 0, e/scale, e/scale*8, 160, 160);
  ONE_LEFT_WALL = g.newQuad(20, 20, 25, 120, 160, 160)
  TWO_LEFT_WALL = g.newQuad(45, 45, 15, 115-45, 160, 160) --60,115
  THREE_LEFT_WALL = g.newQuad(60, 60, 10, 40, 160, 160) --70, 100
  FRONT_WALL = g.newQuad(45, 45, 70, 70, 160, 160)--90,90
  FP_GRASS_FLOOR = g.newImage('assets/fpgrs.png');
  IMM_FRONT_FLOOR = g.newQuad(0, 140, 160, 20, 160, 160);
  ONE_FRONT_FLOOR = g.newQuad(20, 115, 120, 25, 160, 160);
  ONE_LEFT_FLOOR = g.newQuad(0, 115, 45, 25, 160, 160);
  --skybox
  g.push()
  g.translate(cr, cr);
  g.setColor(0, (170/255), (170/255), 1.0);
  love.graphics.rectangle("fill", 0, 0, 160*scale, 160*scale)
  --render order
  g.setColor(1, 1, 1, 1);
  g.draw(FP_GRASS_FLOOR, ONE_FRONT_FLOOR, 20*scale, 115*scale, 0, scale);
  g.draw(FP_GRASS_FLOOR, IMM_FRONT_FLOOR, 0, 140*scale, 0, scale);
  g.draw(FP_WALL_STONE, IMM_LEFT_WALL, 0, 0, 0, scale)
  g.draw(FP_WALL_STONE, ONE_LEFT_WALL, 20*scale, 20*scale, 0, scale)
  --g.draw(FP_WALL_STONE, ONE_LEFT_WALL, 20*scale, 20*scale, 0, scale)
  g.draw(FP_WALL_STONE, THREE_LEFT_WALL, 60*scale, 60*scale, 0, scale)
  g.draw(FP_WALL_STONE2, FRONT_WALL, 115*scale, 45*scale, 0, scale)
  --MIRRORS:
  --wall immediate:
  --g.draw(FP_WALL_STONE2, FRONT_WALL, 20*scale, 20*scale, 0, scale*1.72);
  --Wall one forward:
  g.draw(FP_GRASS_FLOOR, ONE_LEFT_FLOOR, 160*scale, 115*scale, 0, -scale, scale);
  g.draw(FP_WALL_STONE2, FRONT_WALL, 45*scale, 45*scale, 0, scale);
  g.draw(FP_WALL_STONE, IMM_LEFT_WALL, 160*scale, 0, 0, -scale, scale)
  -- clean
  g.setColor(0, 0, 0, 1);
  g.rectangle("fill", 160*scale, 0, 90*scale, 190*scale)
  g.setColor(1, 1, 1, 1);
  g.pop();
  --text
  defaultfont = g.setNewFont('assets/PxPlus_AmstradPC1512-2y.ttf', 8);
  g.print("12345678901234567890\n12345678901234567890\nHalfwidth font test\nSWORDS N MAGIC\n> North\n> North", 176*scale, 96*scale, 0, scale)
end 

function love.textinput(t)
  --ss = ss .. t
end